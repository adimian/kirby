language: python
python:
- '3.6'
cache: pip
install:
- pip install -r requirements-dev.txt
- pip install -e .
script:
- pytest --cov=kirby --cov-report term-missing
after_success:
- coveralls
services:
- redis-server
deploy:
  user: adimian
  provider: pypi
  password:
    secure: KB8L1lGa/+ufM+JQ99DPTchDsenVrOxAC3giD3GLZ36v6o3CfCeJnFUfA8qc1zZyxERv+56Ufg+VgKps1QbeL+sSIalVlThXDlF2BGsiD9oBiFMkHsbEjLoNgguP3RtColauNwgiS1iD6O9xAWSz7W0gjYg7kojIx29jn1OHjACnDdDmmzI3f7ra5Vn8cTGhyWJUpnRzn1xWg4iktfJJ+HrN+EsrAltBQEkqmv6F14d6wX/FkZnaoFciBrtJDZPWNuy7/NenyUYTdyYTy67Zk6uBezHxFGjd2ZiGpZWZqWmWtisxHrE6zkW0G7KUu7AiddHVNoNFQ+nrbgzM6HF9VgfZtvmvsWT0VU6mSc4chtBIbCE99Pk1oi6cccP1shl8lqEtOB8GumHAkAjvWl+B/xYVHJDSWt4vPZOEpmmfS6fEcGXGn8LjSpCjg0XWUmWboslWYDd0WN64+OgW8fplzmPZVzg7KXhM0FSDx8koww6/N2um+IfpyMntoaIxpfS1UE3XqbEgW+Slx+MfBt3wBsaf73Bpe8aJldDRBM6Z+mQql4PCGG0nECIXYdon79ROkrXl9NxPKyxJzqDiIJrQIBrMC9fxQYgouVPq6uVfY8Dv4Z3e8zexPB4/MNWxysAkLBthdEW4eUU15o3SZFQPAakQVyrlLO5V6A+ifb6GLXs=
  on:
    branch: master
