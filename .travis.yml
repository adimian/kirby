language: python
python:
- '3.6'
cache: pip
install:
- pip install -r requirements-dev.txt
- pip install -e .
script:
- pytest --cov=kirby --cov-report term-missing
after_success:
- coveralls
services:
- redis-server
deploy:
  user: adimian
  provider: pypi
  password:
    secure: Rk1nFEYqRsGvUB5uxrR/jGmRHFVbkAGpyRLcMmNWDG0zSjdFFZABxdQ9eAiJzP5uGRp2bmsXdVZJKBDMb2/JD+2KNfHpuDXForNIJbTe64Wzs32fNOA/X6QJIVjO/DCBbuZytnmUL1/TKVDPfuZ+WP/p9IaCZJxRfmnJ8lKC9z6FmInbOeNTB3bSTOleubwxV0mqMAm7ZxOqM37k90j3Zp8p40TebYy0npE+AfwcUs51GRg9dXbcqMNbxLRiYl4ZEwsu3I1BH0lv+p0TSKeTk5rV/Lfq8dMN6/nJW+r49H4qjL40OXaq4WP/XmnWDueo3TI2ta8LgeGzEkSgUWMbcxy8FwB1cZ9nCWN6vKBIXJ1GZWaK7I2eqkg6Qtz8lF+ZnPwK7eB1ADF2e8ddKmBTzhMRNxG2JQJn3Wa4/wDalSf8txMTOs3PvW1ThRdvLS1dBkqRraZoKPa4MsJdYGsRIoM0UfjBO1xrPhu4tM+fGuZTuFGJIeTB6CPIeK2TiIQNZTS9k3d9VC+0corH10Je/2yxJc9PlyHYJAkhoYq4cHTmqITEXgYjBpwnQ3PWozeEAt4xMBdwn6o9nSAicDHFPFjaadBgevVNJnbz7TcoGo471AIIrbCHlMn+Gfo1LQeH3OO2TrfacXqG26njj4H1wH0EVsFlJjvnMqQrL/sdlWo=
  on:
    branch: master
